})function normalizeToArray(input: any): any[] {  if (!input) return []  if (Array.isArray(input)) return input  // самые частые варианты обёрток  if (Array.isArray(input.items)) return input.items  if (Array.isArray(input.records)) return input.records  if (Array.isArray(input.data)) return input.data  if (Array.isArray(input.result)) return input.result  if (input.result && Array.isArray(input.result.items)) return input.result.items  if (input.payload && Array.isArray(input.payload.items)) return input.payload.items  // single item → массив из одного элемента  return [input]}function mapResultRecord(r: any, i: number) {  const type = r.type ?? r.kind ?? r.entity ?? r.category ?? 'unknown'  const id = r.id ?? r.uuid ?? r.idro ?? r.iddoc ?? r.obj ?? `${type}-${i}`  // подставь все встречающиеся поля названий из ваших RPC  const title =    r.title ??    r.name ??    r.cisname2 ??    r.cisname1 ??    r.namerom2 ??    r.namerom1 ??    r.caption ??    String(id)  const extra = r.code ?? r.shortCode ?? r.path ?? r.group ?? undefined  return {    ...r,    id: String(id),    type: String(type),    title: String(title),    extra,  }}